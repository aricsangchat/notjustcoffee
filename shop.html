<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Shop — Not Just Coffee</title>
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body class="mono">
  <nav>
    <a class="brand" href="index.html"><span>NOT JUST COFFEE</span></a>
    <div class="links">
      <a href="story.html">Story</a>
      <a href="shop.html">Shop</a>
    </div>
  </nav>

  <header class="hero">
    <div class="hero-bg" style="background-image:url('assets/images/hero.jpg');"></div>
    <div class="hero-inner container">
      <div class="hero-card">
        <div class="banner">
          <strong style="color:rgba(255,255,255,.92);letter-spacing:.08em;">PRE-ORDER</strong>
          <span>Shipping March–April • Thailand & USA</span>
        </div>
        <h1 style="margin-top:18px;">Pre-Order the First Release</h1>
        <p style="max-width:60ch;">
          Choose between two processes — AZU (Anaerobic Washed) and REL (Red Honey) — and reserve your first box or whole-bean bag.
        </p>
      </div>
    </div>
  </header>


  <main class="container">
    <div class="section-title">
      <h1>Shop</h1>
      <div class="banner"><strong style="color:rgba(255,255,255,.92);">PRE-ORDERS OPEN</strong> <span>Estimated ship: March–April</span></div>
    </div>

    <p style="max-width:70ch;">
      We share the full profile only after you taste. The lot reveal is unlocked via QR + lot name:
      <strong style="color:rgba(255,255,255,.92)">AZU</strong> or <strong style="color:rgba(255,255,255,.92)">REL</strong>.
    </p>

    <div class="card" style="margin-top:18px;">
      <h3>Understanding the Process</h3>
      <h4>Washed Process</h4>
      <p>
        In the washed process, coffee fruit is removed before drying... Expect clarity, brightness, defined acidity.
      </p>
      <h4>Natural Process</h4>
      <p>
        In the natural process, the cherries dry with the bean... Expect fruit-forward sweetness and fuller body.
      </p>
    </div>

    <div class="grid two" style="margin-top:18px;">
      <div class="card product-card" id="drip">
        <div class="badge">PRE-ORDER</div>
        <img src="assets/images/azu-1.jpg" alt="Drip Bag Set product photo" style="width:100%;border-radius:12px;display:block;margin:10px 0 12px;">
        <h3>Drip Bag Set (10 box)</h3>
        <p class="sub">Thailand & USA • Estimated ship: <strong style="color:rgba(255,255,255,.92)">March–April</strong></p>
        <label for="drip-process"><strong style="color:rgba(255,255,255,.92)">Select Process</strong></label>
        <select id="drip-process" name="process" style="margin-top:8px;margin-bottom:8px;max-width:220px;">
          <option value="Washed">Washed</option>
          <option value="Natural">Natural</option>
        </select>
        <p class="small" style="margin-top:0;">Your selected process will be used in the manual order email body.</p>
        <p class="price"><span class="thb">฿950</span><span class="sep">/</span><span class="usd">$32</span></p>
        <div class="actions">
          <a class="btn primary" href="#paypal" aria-disabled="true" title="Paste PayPal link/button later">PayPal (add link)</a>
          <a class="btn ghost"
             href="mailto:thesangchats@gmail.com?subject=Pre-Order%20—%20Drip%20Bag%20Set%20(10%20box)&body=Lot%20(If%20known):%20AZU%20/%20REL%0AProduct:%20Drip%20Bag%20Set%20(10%20box)%0AQty:%201%0AShipping%20Country:%20Thailand%20or%20USA%0AName:%0AAddress:%0APhone:%0ANotes:%0A">
            Bank Transfer / Manual Order
          </a>
        </div>
        <p class="fineprint">Refunds available anytime before shipping.</p>
      </div>

      <div class="card product-card" id="bean">
        <div class="badge">PRE-ORDER</div>
        <img src="assets/images/rel-1.jpg" alt="250g Whole Bean product photo" style="width:100%;border-radius:12px;display:block;margin:10px 0 12px;">
        <h3>250g Whole Bean</h3>
        <p class="sub">Thailand & USA • Estimated ship: <strong style="color:rgba(255,255,255,.92)">March–April</strong></p>
        <label for="bean-process"><strong style="color:rgba(255,255,255,.92)">Select Process</strong></label>
        <select id="bean-process" name="process" style="margin-top:8px;margin-bottom:8px;max-width:220px;">
          <option value="Washed">Washed</option>
          <option value="Natural">Natural</option>
        </select>
        <p class="small" style="margin-top:0;">Your selected process will be used in the manual order email body.</p>
        <p class="price"><span class="thb">฿650</span><span class="sep">/</span><span class="usd">$24</span></p>
        <div class="actions">
          <a class="btn primary" href="#paypal" aria-disabled="true" title="Paste PayPal link/button later">PayPal (add link)</a>
          <a class="btn ghost"
             href="mailto:thesangchats@gmail.com?subject=Pre-Order%20—%20250g%20Whole%20Bean&body=Lot%20(If%20known):%20AZU%20/%20REL%0AProduct:%20250g%20Whole%20Bean%0AQty:%201%0AShipping%20Country:%20Thailand%20or%20USA%0AName:%0AAddress:%0APhone:%0ANotes:%0A">
            Bank Transfer / Manual Order
          </a>
        </div>
        <p class="fineprint">Refunds available anytime before shipping.</p>
      </div>
    </div>

    <hr/>

    <div class="card">
      <h3>Pre-Order Terms</h3>
      <p>
        You’re reserving from our next shipment window (estimated March–April) for Thailand & USA.
        If timelines shift, we’ll email you first. You can request a refund anytime before shipping.
      </p>
      <p class="small">Contact: thesangchats@gmail.com</p>
    </div>
  </main>

  <footer class="footer container">
    © Not Just Coffee • THB primary / USD available
  </footer>
  <script>
    document.querySelectorAll('.product-card').forEach((card) => {
      const processSelect = card.querySelector('select[name="process"]');
      const primaryButton = card.querySelector('.btn.primary');
      const manualOrderLink = card.querySelector('.btn.ghost[href^="mailto:"]');
      if (!processSelect || !primaryButton || !manualOrderLink) return;

      const updateManualOrderHref = () => {
        const selectedProcess = processSelect.value;
        const currentHref = manualOrderLink.getAttribute('href') || '';
        const [mailtoPart, queryString = ''] = currentHref.split('?');
        const params = new URLSearchParams(queryString);
        const productName = card.querySelector('h3')?.textContent?.trim() || 'Product';
        const bodyLines = [
          `Selected Process: ${selectedProcess}`,
          `Product: ${productName}`,
          'Qty: 1',
          'Shipping Country: Thailand or USA',
          'Name:',
          'Address:',
          'Phone:',
          'Notes:'
        ];

        params.set('body', bodyLines.join('\n'));
        manualOrderLink.setAttribute('href', `${mailtoPart}?${params.toString()}`);
      };

      primaryButton.addEventListener('click', updateManualOrderHref);
    });
  </script>
</body>
</html>
